---
title: Тестирование слот-филлинга
source_url: https://developers.sber.ru/docs/ru/va/code/testing/slot-filling-testing
description: Тестирование слот-филлинга | Разработка приложений для виртуального ассистента
  Салют
reading_time: 1
badges:
- Code
- Brain
breadcrumbs:
- Тестирование слот-филлинга
toc:
- title: Сценарий со слот-филлингом
  level: 2
  id: stsenariy-so-slot-fillingom
- title: Тестирование
  level: 2
  id: testirovanie2
---

<!-- Бейджи: Code | Brain -->

# Тестирование слот-филлинга

Содержание раздела

* [Сценарий со слот-филлингом](#сценарий-со-слот-филлингом)
* [Тестирование](#тестирование)

# Тестирование слот-филлинга

Обновлено 15 декабря 2023

[![](/assets/testing/slot-filling-testing/Code.png)
Code](../overview.md)[![](/assets/testing/slot-filling-testing/Brain.png)
Brain](../nlp/overview.md)

Раздел содержит пример тестирования сценария смартапа с подключенным [слот-филлингом](../nlp/slot-filling/overview.md).

## Сценарий со слот-филлингом

Пример сценария:

```
require: slotfilling/slotFilling.sc
  module = sys.zb-common

theme: /

    state: Start
        q: $regex</start>
        a: Начнем!

    state:
        intent!: /Погода
        a: Погода в {{$parseTree._City}} на {{$parseTree._Date.value}}

    state: CatchAll
        event: noMatch
        a: noMatch
```

Интент `/Погода` реагирует на запрос прогноза погоды. Слоты заполнены следующим образом:

![Заполнение слотов для интента Погода](/assets/testing/slot-filling-testing/slots-e3a9178453bf0a5a5435d0084f706e95.png)

Где `@City` — пользовательская сущность, которая содержит все города, доступные для прогноза погоды.

Поведение сценария при разных запросах:

1. «Погода на завтра в Москве»: слоты заполнены, смартап предоставит ответ.
2. «Погода на завтра»: слот `City` не заполнен, смартап задаст уточняющие вопросы. После подходящего ответа, сценарий заполнит слоты, а смартап даст ответ.
3. «Погода в Москве»: слот `Date` не заполнен, смартап задаст уточняющие вопросы. После подходящего ответа, сценарий заполнит слоты, а смартап даст ответ.

## Тестирование

Пример теста, который требуется добавить в папку `папка_проекта/test`:

```
<test>
    <test-case>
        <q>/start</q>
        <a>Начнем!</a>
        <q>Прогноз погоды</q>
        <a>В каком городе?</a>
        <q>В Москве</q>
        <a>На какую дату?</a>
        <q>На 11 декабря 2019</q>
        <a>Погода в Санкт-Петербург на 2019-12-11T00:00:00</a>
    </test-case>
</test>
```

Тестовый сценарий проверяет случай, когда слоты не заполнены. Поэтому после `<q>Прогноз погоды</q>` следуют уточняющие вопросы. После того, как все слоты заполнены, сценарий выходит из слот-филлинга.

При написании тестов для сценария со слот-филлингом, учитывайте различные ситуации. Например, когда один слот заполнен, но последующие требуют заполнения.

Заметили ошибку?

Выделите текст и нажмите `Ctrl` + `Enter`, чтобы сообщить нам о ней