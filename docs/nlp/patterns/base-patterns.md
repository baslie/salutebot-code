---
title: Базовые элементы паттернов в Code
source_url: https://developers.sber.ru/docs/ru/va/code/nlp/patterns/base-patterns
reading_time: 1
badges:
- Code
breadcrumbs:
- Базовые элементы паттернов
toc:
- title: '*'
  level: 2
  id: asterisk2
- title: слово
  level: 2
  id: slovo4
- title: _ корень _
  level: 2
  id: koren2
- title: (слово1|слово2|или целая фраза)
  level: 2
  id: slovo1-slovo2-ili-tselaya-fraza2
- title: '[опциональное слово|или другая фраза]'
  level: 2
  id: optsionalnoe-slovo-ili-drugaya-fraza2
- title: '{слово1 слово2 (1|2)}'
  level: 2
  id: slovo1-slovo2-1-22
- title: Пример
  level: 3
  id: primer21
- title: Пример
  level: 3
  id: primer112
- title: Пример
  level: 3
  id: primer25
- title: Пример
  level: 3
  id: primer35
- title: Пример
  level: 3
  id: primer45
- title: Пример
  level: 3
  id: primer55
---

<!-- Бейджи: Code -->

# Базовые элементы паттернов в Code

Содержание раздела

* [*](#)
* [Пример](#пример)
* [слово](#слово)
* [Пример](#пример)
* [\_ корень \_](#_-корень-_)
* [Пример](#пример)
* [(слово1|слово2|или целая фраза)](#слово1слово2или-целая-фраза)
* [Пример](#пример)
* [[опциональное слово|или другая фраза]](#опциональное-словоили-другая-фраза)
* [Пример](#пример)
* [{слово1 слово2 (1|2)}](#слово1-слово2-12)
* [Пример](#пример)

Развернуть

# Базовые элементы паттернов в Code

Обновлено 19 февраля 2025

[![](/assets/nlp/patterns/base-patterns/Code.png)
Code](../../overview.md)

## *

`*` — любая последовательность символов произвольной длины, возможно пустое поле.

`*` - воспринимает любое значение произвольной длины, возможно пустое поле.
В примере ниже тег `q: *` ожидает любое значение от пользователя (буква, цифра или пустое сообщение и т.д), которое поступит в сценарий приложения и предоставит ответ из тега `a:`.

### Пример

```
state: catchAll
        q!: *
        a: Я Вас не понял.
```

```
state: start
        q!: *
        a: Начинаем работу!
        go!: /SecondStep
```

## слово

`слово` — указанное слово. Проверяет полное посимвольное соответствие слова и его позицию во фразе.

### Пример

```
state:
    q!: привет
    a: Привет! Как дела?
```

## \_ корень \_

`*корень*` — стемма. Проверяет наличие в слове заданной основы. Не обязательно совпадает с морфологическим корнем слова.

Положение звездочки определяет какие слова попадут в паттерн:

* Звездочка в начале обозначает вариативный префикс. В этом случае, в паттерн `*ход` попадут слова `вход`, `выход`, `ход`.
* Звездочка в конце обозначает вариативный суффикс. В этом случае в паттерн `ход*` попадут слова `ходить`, `ходунки`, `ход`.
* Звездочка в начале и конце, обозначает вариативные префикс и суффикс. В этом случае в паттерн `*ход*` попадут слова `выходить`, `ход`.

### Пример

```
 state:
    q: *подроб* //паттерн позволит определелить слова «поподробнее», «подробности», «подробнее»
    a: Подробнее на сайте example.cn
```

## (слово1|слово2|или целая фраза)

`(слово1|слово2|или целая фраза)` — альтернативы. Паттерн проверяет наличие одного из альтернативных вариантов правила.

Варианты разделяются с помощью символа `|` или `/`. Каждый вариант может содержать любые другие вложенные элементы паттерна.

### Пример

```
state:
    q: (привет | добр* (утро/день/вечер) | здравствуй* )
    a: Привет-привет!
```

## [опциональное слово|или другая фраза]

`[опциональное слово|или другая фраза]` — опции: приведенные в квадратных скобках элементы не являются обязательными.

Если правило сработало, [вес](https://developers.sber.ru/docs/ru/va/chat/voice-interface/command-recognition/pattern-weight) паттерна увеличивается.

В опциях можно задавать альтернативы.

### Пример

```
state: How many players
        q: * {(сколько|как много|насколько много) (игроков|плееров|человек) [могут] [играть]} *
        q: * [игра] для одного * [или] [нескольких] *
        q: * {([игра]|в игре) [есть] (мультиплеер*|многопользовательск* [режим]|для нескольких пользовател*)} *
        a: Это приключение для одного.
```

## {слово1 слово2 (1|2)}

`{слово1 слово2 (1|2)}` — перестановки: проверяется соответствие заданных правил в любой последовательности.

Правила, которые могут быть перемешаны, разделяются пробелом.

Каждое правило может быть любым другим элементом паттерна с любой степенью вложенности.

Использование в перестановках более 5 правил снижает производительность смартапа.

### Пример

```
state: How much gameplay
        q: * {(сколько|(как|насколько) много|много) геймпле*} *
        q: * {[насколько] (большая|велика) [ли] [эта] [игра]} *
        a: Сюжет игры занял 2 тысячи страниц сценария!
```

Заметили ошибку?

Выделите текст и нажмите `Ctrl` + `Enter`, чтобы сообщить нам о ней